<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Profile - GymRat</title>
    <link rel="stylesheet" href="/css/profile.css">
</head>
<header>
    <a class="navbar-brand" href="/"> <h1>GYMRAT</h1> </a>
    <nav>
        <form action="/profile/myrankings" method="get">
            <button type="submit" class="box">Mis rankings</button>
        </form>

        <form action="/profile/mylessons" method="get">
            <button type="submit" class="box">Mis clases</button>
        </form>

        <form action="/logout" method="post">
            <input type="hidden" name="_csrf" value="{{token}}" />
            <button type="submit" class="btn btn-secondary">Cerrar sesión</button>
        </form>

        <form action="/profile/delete" method="post">
            <input type="hidden" name="_csrf" value="{{token}}" />
            <button type="submit" class="btn btn-danger">Borrar mi cuenta</button>
        </form>

    </nav>
</header>
<body>
<style>
    body {
        background-image: url("/img/HomeImg.jpg");
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        background-attachment: fixed;
        margin: 0;
    }
    .profile-img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #ffffff;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    }
</style>
<main>
    <h1 class="title">
        <i class="fa-regular fa-user"></i>Mi Perfil</h1>
    {{#user}}
    <form action="/profile/updProfile" method="post" class="grid-form" enctype="multipart/form-data">
        <div class="form-group">
            <label for="name">Nombre:</label>
            <input value="{{name}}" type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="password">Contraseña:</label>
            <input type="hidden" value="{{password}}" type="password" id="password" name="password" readonly>
        </div>
        <div class="form-group">
            <label for="age">Edad:</label>
            <input value="{{age}}" type="text" id="age" name="age" required>
        </div>
        <div class="form-group">
            <label for="DNI">DNI:</label>
            <input value="{{DNI}}" type="text" id="DNI" name="DNI" readonly>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input value="{{email}}" type="text" id="email" name="email" readonly>
        </div>
        <div class="form-group">
            <label for="phoneNumber">Teléfono:</label>
            <input value="{{phoneNumber}}" type="text" id="phoneNumber" name="phoneNumber" required>
        </div>
        <img class="profile-img" alt="" src="{{image}}">
        <label class="relative-file-upload">
            Subir archivo <input id="imageFile" name="fileImage" type="file" enctype accept="image/jpeg">
        </label>
        <input type="hidden" name="_csrf" value="{{token}}">
        <button type="submit">Guardar cambios</button>
    </form>

    {{/user}}
    {{#admin}}
    <form action="/admin" method="get">
        <button type="submit" class="box">Admin</button>
    </form>
    {{/admin}}
</main>

</body>
<footer>
    <p>&copy; 2024 Gimnasio Fitness. Todos los derechos reservados.</p>
</footer>
</html>

